{
  "hash": "ea4961c2f22f48b2fe0178776ce8e41a",
  "result": {
    "markdown": "---\ntitle: \"Part 1: Intro to GRASS GIS\"\nsubtitle: \"Basic notions, interfaces and temporal framework\"\nauthor: \"Veronica Andreo\"\ndate: '2023-06-02'\neditor: \n  markdown: \n    wrap: 80\n---\n\n\n## GRASS GIS general stuff\n\n- **GRASS GIS** (Geographic Resources Analysis Support System), a FOSS suite\nused for geospatial data management and analysis, image processing, graphics\nand maps, spatial modeling, and visualization.\n- Originally developed by the U.S. Army Construction Engineering Research\nLaboratories for land management and environmental planning (1982-1995).\n- First *User Manual* published on July 29th, 1983... **GRASS is becoming 40 this year!**\n- More history: <https://grass.osgeo.org/about/history/>\n- Free and open source, you can use, modify, improve, share\n- Strong user community, commercial support\n- Large amount of tools: 500+ [core modules](#modules), 400+ [addons](#addons)\n- GUI and CLI interfaces\n- Python API and libraries - the latest `grass.jupyter` library can be tried\n[online](https://mybinder.org/v2/gh/OSGeo/grass/8.2.2?urlpath=lab%2Ftree%2Fdoc%2Fnotebooks%2Fjupyter_example.ipynb)\n- Connection with R, QGIS, WPS, etc.\n- Different data types supported:\n[raster](https://grass.osgeo.org/grass-stable/manuals/rasterintro.html)\n(including [satellite\nimagery](https://grass.osgeo.org/grass-stable/manuals/imageryintro.html)),\n[3D raster or\nvoxel](https://grass.osgeo.org/grass-stable/manuals/raster3dintro.html),\n[vector](https://grass.osgeo.org/grass-stable/manuals/vectorintro.html) and\n[space-time\ndatasets](https://grass.osgeo.org/grass-stable/manuals/temporalintro.html)\n\n### Open GRASS for the first time\n\nAs of version 8.0, GRASS has modified its startup to make it more user friendly:\n\n![](assets/img/studio/grass_start.png){width=\"85%\" fig-align=\"center\"}\n\nFrom the **Data** catalog tab you can manage several actions and if \nyou do not yet have imported data into the GRASS database, the \nsoftware creates the directory structure or database automatically.\n\n### Database\n\n- **GRASS database** (directory with projects): When running GRASS GIS for the\n  first time, a folder named \"grassdata\" is automatically created. Depending\n  on the operating system, it can be found in `$HOME` (\\*nix) or\n  `My Documents` (MS Windows).\n- **Location** (a project): A location is defined by its coordinate reference\n  system (CRS). The location that is automatically created is in WGS84\n  (EPSG:4326). If you have data in another CRS, you should ideally create a\n  new location.\n- **Mapset** (a subproject): Each location can have many mapsets to manage\n  different aspects or sub-regions of a project. When creating a new location,\n  GRASS GIS automatically creates a special mapset called *PERMANENT* where\n  the central data of the project (e.g., base maps, road network, dem, etc.)\n  can be stored.\n\n\n![](assets/img/studio/grass_database.png){width=\"60%\" fig-align=\"center\"}\n\n\n::: callout-note\nMore info: <https://grass.osgeo.org/grass-stable/manuals/grass_database.html>.\n:::\n\n### Computational region\n\nAnother fundamental concept of GRASS GIS (and very useful when working with\nraster data) is that of the **computational region**. It refers to the boundary\nconfiguration of the analysis area and spatial resolution (raster). The\n**computational region** can be defined and modified with the command\n[g.region](https://grass.osgeo.org/grass-stable/manuals/g.region.html) to the\nextent of a vector map, a raster or manually to some area of interest. The\n*output raster maps will have an extent and spatial resolution equal to the\ncomputational region*, while vector maps are always processed at their original\nextent.\n\n![](assets/img/studio/region.png){width=\"60%\" fig-align=\"center\"}\n\n\n::: callout-note\nFor more details, see the wiki on [Computational Region](https://grasswiki.osgeo.org/wiki/Computational_region).\n:::\n\n### Modules and extensions\n\nGRASS has more than [500\nmodules](https://grass.osgeo.org/grass-stable/manuals/full_index.html) for the\nmost varied tasks:\n\n| Prefix                                                                   | Function class | Type of command         | Example                                                                                                                |\n|------------------|:--------------|:--------------|:--------------------------------|\n| [g.\\*](https://grass.osgeo.org/grass-stable/manuals/full_index.html#g)   | general        | general data management | [g.rename](https://grass.osgeo.org/grass-stable/manuals/g.rename.html): renames map                                    |\n| [d.\\*](https://grass.osgeo.org/grass-stable/manuals/full_index.html#d)   | display        | graphical output        | [d.rast](https://grass.osgeo.org/grass-stable/manuals/d.rast.html): display raster map                                 |\n| [r.\\*](https://grass.osgeo.org/grass-stable/manuals/full_index.html#r)   | raster         | raster processing       | [r.mapcalc](https://grass.osgeo.org/grass-stable/manuals/r.mapcalc.html): map algebra                                  |\n| [v.\\*](https://grass.osgeo.org/grass-stable/manuals/full_index.html#r)   | vector         | vector processing       | [v.clean](https://grass.osgeo.org/grass-stable/manuals/v.clean.html): topological cleaning                             |\n| [i.\\*](https://grass.osgeo.org/grass-stable/manuals/full_index.html#i)   | imagery        | imagery processing      | [i.pca](https://grass.osgeo.org/grass-stable/manuals/i.pca.html): Principal Components Analysis on imagery group       |\n| [r3.\\*](https://grass.osgeo.org/grass-stable/manuals/full_index.html#r3) | voxel          | 3D raster processing    | [r3.stats](https://grass.osgeo.org/grass-stable/manuals/r3.stats.html): voxel statistics                               |\n| [db.\\*](https://grass.osgeo.org/grass-stable/manuals/full_index.html#db) | database       | database management     | [db.select](https://grass.osgeo.org/grass-stable/manuals/db.select.html): select value(s) from table                   |\n| [ps.\\*](https://grass.osgeo.org/grass-stable/manuals/full_index.html#ps) | postscript     | PostScript map creation | [ps.map](https://grass.osgeo.org/grass-stable/manuals/ps.map.html): PostScript map creation                            |\n| [t.\\*](https://grass.osgeo.org/grass-stable/manuals/full_index.html#t)   | temporal       | space-time datasets     | [t.rast.aggregate](https://grass.osgeo.org/grass-stable/manuals/t.rast.aggregate.html): raster time series aggregation |\n\nExtensions or [**add-ons**](https://grass.osgeo.org/grass-stable/manuals/addons/) \ncan be installed from the [central GitHub repository](https://github.com/OSGeo/grass-addons)\nor from *other users' GitHub* (or similar repositories) using the command\n[g.extension](https://grass.osgeo.org/grass-stable/manuals/g.extension.html).\nFor example:\n\n``` bash\n # install an extension from the GRASS GIS repository\n g.extension extension=r.hants\n \n # install an extension from another GitHub repository\n g.extension extension=r.change.stats \\\n   url=https://github.com/mundialis/r.change.stats\n```\n\n### Graphical User Interface (GUI)\n\n![](assets/img/studio/Single_Window_GUI.png){width=\"870px\" fig-align=\"center\"}\n\n\n### Command line\n\n![](assets/img/studio/grass_command_line.png){width=\"65%\" fig-align=\"center\"}\n\n\n## GRASS + {{< fa brands python >}}\n\nThere are different Python libraries delivered with GRASS GIS, we'll use 2 of \nthem:\n\n- `grass.script` which provides Python interface to launch GRASS GIS modules in scripts\n- `grass.jupyter` which offers classes and setup functions for running GRASS GIS in Jupyter Notebooks\n\nOther Python libraries delivered with GRASS GIS include: pygrass, the temporal \nframework, the testing framework, among others.\n\n\nWe can use Python within GRASS GUI, within Jupyter notebooks, or from our \npreferred IDE. See the options within the GUI:\n\n![](assets/img/studio/grass_and_python_gui.png)\n\n::: {.callout-note}\nSee <https://grass.osgeo.org/grass-stable/manuals/libpython/index.html> for further \ndetails.\n:::\n\n\n## GRASS + {{< fa brands r-project >}} through `rgrass` package\n\nWe can use [R within a GRASS GIS\nsession](https://grasswiki.osgeo.org/wiki/R_statistics/rgrass7#R_within_GRASS)\nor use [GRASS GIS within an R\nsession](https://grasswiki.osgeo.org/wiki/R_statistics/rgrass7#GRASS_within_R).\nWe'll explore this further in the last part of this session.\n\n![](assets/img/studio/RwithinGRASS_and_Rstudio_from_grass.png)\n\n\n## Demo session overview\n\nHabitat suitability mapping for the Asian tiger mosquito in Northern Italy based\non variables derived from daily LST data\n\n- **GRASS**\n    - Import species records\n    - Create random background points\n    - Create different environmental layers from daily LST data\n- **R**\n    - Read data from GRASS into R\n    - Model species distribution\n    - Model evaluation\n    - Visualization of results\n\n![](assets/img/lecture/workflow_sdm_other.png){width=\"85%\" fig-align=\"center\"}\n\n\n### Data for the session\n\n<img src=\"assets/img/studio/aedes_albopictus.jpg\" width=\"30%\" align=\"right\"/>\n\n- Records of *Aedes albopictus* (Asian tiger mosquito) in Northern Italy\n  downloaded from [GBIF](https://www.gbif.org/)\n- Average daily MODIS LST reconstructed by \n  [mundialis GmbH & Co. KG](https://www.mundialis.de/en/) based on @metz_new_2017:\n    - 1 km spatial resolution\n    - Converted to Celsius degrees\n\n<img src=\"assets/img/studio/lst_north_italy_2014.png\" width=\"40%\" align=\"right\" padding-right=\"15px\"/>\n\n\n### Get the sample location\n\n- Create a folder named `grass_ncsu_2023`\n- Within `grass_ncsu_2023` create a folder named `grassdata`\n- Download and unzip [eu_laea location with LST mapset](https://drive.google.com/file/d/1z1b2NLC4Z6yzz_57RddTdRRK_gUkd7fU/view?usp=sharing)\nand unzip within your `grassdata` folder\n- Download [mosquito data](https://github.com/veroandreo/grass_ncsu_2023/raw/main/data/aedes_albopictus.gpkg) and drop it within `grass_ncsu_2023`\n\nThe `grass_ncsu_2023` folder's tree should look like this:\n\n```         \n  grass_ncsu_2023/\n  ├── aedes_albopictus.gpkg\n  └── grassdata\n      └── eu_laea\n          ├── italy_LST_daily\n          └── PERMANENT\n\n```\n\n# GRASS GIS HELP!!!\n\n- [g.manual](https://grass.osgeo.org/grass76/manuals/g.manual.html):\n  in the main GUI under Help or just pressing *F1*\n- `--help` or `--h` flag after the module name in the terminal\n- [GRASS website](https://grass.osgeo.org/): rich [learn](https://grass.osgeo.org/learn/) section with links to videos, tutorials, courses, books, etc.\n- [GRASS wiki](https://grasswiki.osgeo.org/wiki/GRASS-Wiki): examples,\n  explanations on particular modules or tasks,\n  [tutorials](https://grasswiki.osgeo.org/wiki/Category:Tutorial),\n  applications, etc.\n- grass-user mailing list: [subscribe](https://lists.osgeo.org/mailman/listinfo/grass-user) and post or check the [archives](https://lists.osgeo.org/pipermail/grass-user/)\n- GRASS Gitter chat: <https://gitter.im/grassgis/community>\n- Link to source code and history in each module manual page, eg., \n[t.rast.algebra](https://grass.osgeo.org/grass-stable/manuals/t.rast.algebra.html)\n\n![](assets/img/studio/source_code_link.png){width=\"650px\" fig-align=\"center\"}\n\n\n## Other (very) useful links\n\n- [GRASS intro workshop held at NCSU](https://ncsu-osgeorel.github.io/grass-intro-workshop/)\n- [Unleash the power of GRASS GIS at US-IALE 2017](https://grasswiki.osgeo.org/wiki/Unleash_the_power_of_GRASS_GIS_at_US-IALE_2017)\n- [Temporal data processing wiki](https://grasswiki.osgeo.org/wiki/Temporal_data_processing)\n- [GRASS GIS and R for time series processing wiki](https://grasswiki.osgeo.org/wiki/Temporal_data_processing/GRASS_R_raster_time_series_processing)\n- [GRASS GIS temporal workshop at NCSU](http://ncsu-geoforall-lab.github.io/grass-temporal-workshop/)\n- [GRASS GIS course in Jena](https://training.gismentors.eu/grass-gis-workshop-jena/index.html)\n- [GRASS GIS course IRSAE](http://training.gismentors.eu/grass-gis-irsae-winter-course-2018/index.html)\n- [GRASS GIS course in Argentina](https://gitlab.com/veroandreo/curso-grass-gis-rioiv)\n\n# References\n\n:::{#refs}\n\n:::\n",
    "supporting": [
      "notebook_intro_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}